import pyautogui
import numpy as np
import time
import cv2,os
# count = 300
# while True:
#     print('taking screenshot...')
#     myScreenshot = pyautogui.screenshot('map_screenshots/kcity/kcity_'+str(count)+'.png')
#     count+=1
#     time.sleep(0.7)

folder = 'map_screenshots/kcity'
files = os.listdir(folder)
files = sorted(files,key= lambda x:int(x.split('_')[1].replace('.png','')))
latlons = [[37.247323,126.76788],
		[37.247323,126.76888],
		[37.247323,126.76988],
		[37.247323,126.77088],
		[37.247323,126.77188],
		[37.247323,126.77288],
		[37.247323,126.77388],
		[37.247323,126.77488],
		[37.247323,126.77588],
		[37.246823,126.76788],
		[37.246823,126.76888],
		[37.246823,126.76988],
		[37.246823,126.77088],
		[37.246823,126.77188],
		[37.246823,126.77288],
		[37.246823,126.77388],
		[37.246823,126.77488],
		[37.246823,126.77588],
		[37.246323,126.76788],
		[37.246323,126.76888],
		[37.246323,126.76988],
		[37.246323,126.77088],
		[37.246323,126.77188],
		[37.246323,126.77288],
		[37.246323,126.77388],
		[37.246323,126.77488],
		[37.246323,126.77588],
		[37.245823,126.76788],
		[37.245823,126.76888],
		[37.245823,126.76988],
		[37.245823,126.77088],
		[37.245823,126.77188],
		[37.245823,126.77288],
		[37.245823,126.77388],
		[37.245823,126.77488],
		[37.245823,126.77588],
		[37.245323,126.76788],
		[37.245323,126.76888],
		[37.245323,126.76988],
		[37.245323,126.77088],
		[37.245323,126.77188],
		[37.245323,126.77288],
		[37.245323,126.77388],
		[37.245323,126.77488],
		[37.245323,126.77588],
		[37.244823,126.76788],
		[37.244823,126.76888],
		[37.244823,126.76988],
		[37.244823,126.77088],
		[37.244823,126.77188],
		[37.244823,126.77288],
		[37.244823,126.77388],
		[37.244823,126.77488],
		[37.244823,126.77588],
		[37.244323,126.76788],
		[37.244323,126.76888],
		[37.244323,126.76988],
		[37.244323,126.77088],
		[37.244323,126.77188],
		[37.244323,126.77288],
		[37.244323,126.77388],
		[37.244323,126.77488],
		[37.244323,126.77588],
		[37.243823,126.76788],
		[37.243823,126.76888],
		[37.243823,126.76988],
		[37.243823,126.77088],
		[37.243823,126.77188],
		[37.243823,126.77288],
		[37.243823,126.77388],
		[37.243823,126.77488],
		[37.243823,126.77588],
		[37.243323,126.76788],
		[37.243323,126.76888],
		[37.243323,126.76988],
		[37.243323,126.77088],
		[37.243323,126.77188],
		[37.243323,126.77288],
		[37.243323,126.77388],
		[37.243323,126.77488],
		[37.243323,126.77588],
		[37.242823,126.76788],
		[37.242823,126.76888],
		[37.242823,126.76988],
		[37.242823,126.77088],
		[37.242823,126.77188],
		[37.242823,126.77288],
		[37.242823,126.77388],
		[37.242823,126.77488],
		[37.242823,126.77588],
		[37.242323,126.76788],
		[37.242323,126.76888],
		[37.242323,126.76988],
		[37.242323,126.77088],
		[37.242323,126.77188],
		[37.242323,126.77288],
		[37.242323,126.77388],
		[37.242323,126.77488],
		[37.242323,126.77588],
		[37.241823,126.76788],
		[37.241823,126.76888],
		[37.241823,126.76988],
		[37.241823,126.77088],
		[37.241823,126.77188],
		[37.241823,126.77288],
		[37.241823,126.77388],
		[37.241823,126.77488],
		[37.241823,126.77588],
		[37.241323,126.76788],
		[37.241323,126.76888],
		[37.241323,126.76988],
		[37.241323,126.77088],
		[37.241323,126.77188],
		[37.241323,126.77288],
		[37.241323,126.77388],
		[37.241323,126.77488],
		[37.241323,126.77588],
		[37.240823,126.76788],
		[37.240823,126.76888],
		[37.240823,126.76988],
		[37.240823,126.77088],
		[37.240823,126.77188],
		[37.240823,126.77288],
		[37.240823,126.77388],
		[37.240823,126.77488],
		[37.240823,126.77588],
		[37.240323,126.76788],
		[37.240323,126.76888],
		[37.240323,126.76988],
		[37.240323,126.77088],
		[37.240323,126.77188],
		[37.240323,126.77288],
		[37.240323,126.77388],
		[37.240323,126.77488],
		[37.240323,126.77588],
		[37.239823,126.76788],
		[37.239823,126.76888],
		[37.239823,126.76988],
		[37.239823,126.77088],
		[37.239823,126.77188],
		[37.239823,126.77288],
		[37.239823,126.77388],
		[37.239823,126.77488],
		[37.239823,126.77588],
		[37.239323,126.76788],
		[37.239323,126.76888],
		[37.239323,126.76988],
		[37.239323,126.77088],
		[37.239323,126.77188],
		[37.239323,126.77288],
		[37.239323,126.77388],
		[37.239323,126.77488],
		[37.239323,126.77588],
		[37.238823,126.76788],
		[37.238823,126.76888],
		[37.238823,126.76988],
		[37.238823,126.77088],
		[37.238823,126.77188],
		[37.238823,126.77288],
		[37.238823,126.77388],
		[37.238823,126.77488],
		[37.238823,126.77588],
		[37.238323,126.76788],
		[37.238323,126.76888],
		[37.238323,126.76988],
		[37.238323,126.77088],
		[37.238323,126.77188],
		[37.238323,126.77288],
		[37.238323,126.77388],
		[37.238323,126.77488],
		[37.238323,126.77588]]

idx = 0
for f in files:
	filepath = os.path.join(folder,f)
	new_filepath = filepath.split('kcity_')[0]+'kcity_'+str(latlons[idx][0])+','+str(latlons[idx][1])+'.png'
	print(new_filepath)
	idx+=1
	os.rename(filepath,new_filepath)

# count = 0
# for f in files:
#     filepath = os.path.join(folder,f)
#     new_filepath = filepath.split('_')
#     new_filepath[2] = str(count)
#     new_filepath = '_'.join(new_filepath)
#     new_filepath = new_filepath.replace('_.png','.png')
#     count+=1
#     os.rename(filepath,new_filepath)


# filenames = []
# for f in files:
#     if f.startswith('kcity') and not f.endswith('_.png'):
#         filepath = os.path.join(folder,f)
#         img = cv2.imread(filepath)
#         img = img[332:1532,80:2080,:]
#         cv2.imwrite(os.path.join(folder,f.replace('.png','_.png')),img)
#         cv2.imshow('img',img)
#         cv2.waitKey(100)
#         os.remove(filepath)


